<!DOCTYPE html>
<html lang="en">
<head> 
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>更多评论</title>
    <link rel="stylesheet" type="text/css" href="../source/font/flaticon.css">
    <link rel="stylesheet" type="text/css" href="../source/flaticon/flaticon.css">
    <link rel="stylesheet" type="text/css" href="../source/css/mui.min.css">
    <link rel="stylesheet" type="text/css" media="screen and (max-width:800px)" href="../source/css/reset.css">
    <link rel="stylesheet" type="text/css" media="screen and (max-width:800px)" href="../source/css/comments.css">
    <script type="text/javascript" src="../source/js/jquery-1.7.2.js"></script>
</head>
<body>
	<div class="comContainer">
		<div class="bookHeader">
	        <a id="backLink">
	            <p class="backBtn"><i class="flaticon-back backfont"></i></p>
	        </a>
    	</div>
		<div class="comHeader">
			<div class="headContent">
				<p class="headPara">评论：&nbsp;300</p>
			</div>
		</div>
		<div class="comContent">
			<div id="pullrefresh" class="mui-content mui-scroll-wrapper refresh">
				<div class="mui-scroll">
					<!--数据列表-->
					<ul class="mui-table-view mui-table-view-chevron">
						<li class="mui-table-view-cell">
							<div class="CommentItems">
			    				<div class="leftItem leftItem1"></div>
			    				<div class="rightItem">
		    						<p class="rightPara1 rightPara">向丽</p>
		    						<p class="rightPara2 rightPara">13小时前</p>
		    						<p class="rightPara3 rightPara">为遇难者祈福...</p>
		    					</div>
		    					<p class="like">
		    						<i class="flaticon-heart likeFont"></i>&nbsp;880
		    					</p>
    						</div>
						</li>
						<li class="mui-table-view-cell">
							<div class="CommentItems">
			    				<div class="leftItem leftItem2"></div>
		    					<div class="rightItem">
		    						<p class="rightPara1 rightPara">    袁峰然</p>
		    						<p class="rightPara2 rightPara">18小时前</p>
		    						<p class="rightPara3 rightPara">愿逝者安息，生者节哀</p>
		    					</div>
		    					<p class="like">
		    						<i class="flaticon-heart likeFont"></i>&nbsp;920
		    					</p>
		    				</div>
						</li>
						<li class="mui-table-view-cell">
							<div class="CommentItems">
		    					<div class="leftItem leftItem3"></div>
		    					<div class="rightItem">
		    						<p class="rightPara1 rightPara">阿沁</p>
		    						<p class="rightPara2 rightPara">20小时前</p>
		    						<p class="rightPara3 rightPara">民族平等！</p>
		    					</div>
		    					<p class="like">
		    						<i class="flaticon-heart likeFont "></i>&nbsp;320
		    					</p>
		    				</div>
						</li>
						<li class="mui-table-view-cell">
							<div class="CommentItems">
			    				<div class="leftItem leftItem1"></div>
			    				<div class="rightItem">
		    						<p class="rightPara1 rightPara">向丽</p>
		    						<p class="rightPara2 rightPara">13小时前</p>
		    						<p class="rightPara3 rightPara">为遇难者祈福...</p>
		    					</div>
		    					<p class="like">
		    						<i class="flaticon-heart likeFont"></i>&nbsp;999+
		    					</p>
		    				</div>
						</li>
						<li class="mui-table-view-cell">
							<div class="CommentItems">
			    				<div class="leftItem leftItem2"></div>
		    					<div class="rightItem">
		    						<p class="rightPara1 rightPara">    袁峰然</p>
		    						<p class="rightPara2 rightPara">18小时前</p>
		    						<p class="rightPara3 rightPara">愿逝者安息，生者节哀</p>
		    					</div>
		    					<p class="like">
		    						<i class="flaticon-heart likeFont"></i>&nbsp;999+
		    					</p>
		    				</div>
						</li>
						<li class="mui-table-view-cell">
							<div class="CommentItems">
		    					<div class="leftItem leftItem3"></div>
		    					<div class="rightItem">
		    						<p class="rightPara1 rightPara">阿沁</p>
		    						<p class="rightPara2 rightPara">20小时前</p>
		    						<p class="rightPara3 rightPara">民族平等！</p>
		    					</div>
		    					<p class="like">
		    						<i class="flaticon-heart likeFont"></i>&nbsp;120
		    					</p>
		    				</div>
						</li>
						<li class="mui-table-view-cell">
							<div class="CommentItems">
			    				<div class="leftItem leftItem1"></div>
			    				<div class="rightItem">
		    						<p class="rightPara1 rightPara">向丽</p>
		    						<p class="rightPara2 rightPara">13小时前</p>
		    						<p class="rightPara3 rightPara">为遇难者祈福...</p>
		    					</div>
		    					<p class="like">
		    						<i class="flaticon-heart likeFont"></i>&nbsp;999+
		    					</p>
		    				</div>
						</li>
					</ul>
				</div>
			</div>
			<div class="sendComments">
				<p class="edit">
					<i class="flaticon-edit editFont"></i>
					<input class="inputComments" type="text" placeholder="评论">
				</p>
				<p class="likeIcon">
					发送
				</p>
    		</div>
		</div>
	</div>
	</script>
    <script src="../source/js/mui.min.js"></script>
		<script>
			mui.init({
				pullRefresh: {
					container: '#pullrefresh',
					down: {
						callback: pulldownRefresh
					},
					up: {
						contentrefresh: '正在加载...',
						callback: pullupRefresh
					}
				}
			});
			/**
			 * 下拉刷新具体业务实现
			 */
			function pulldownRefresh() {
				setTimeout(function() {
					var table = document.body.querySelector('.mui-table-view');
					var cells = document.body.querySelectorAll('.mui-table-view-cell');
					for (var i = cells.length, len = i + 3; i < len; i++) {
						var li = document.createElement('li');
						li.className = 'mui-table-view-cell';
						li.innerHTML = '<div class="CommentItems"><div class="leftItem leftItem1"></div><div class="rightItem"><p class="rightPara1 rightPara">向丽</p><p class="rightPara2 rightPara">13小时前</p><p class="rightPara3 rightPara">为遇难者祈福...</p></div><p class="like"><i class="flaticon-heart likeFont"></i>&nbsp;999+</p></div>';
						//下拉刷新，新纪录插到最前面；
						table.insertBefore(li, table.firstChild);
					}
					mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); //refresh completed
				}, 1500);
			}
			var count = 0;
			/**
			 * 上拉加载具体业务实现
			 */
			function pullupRefresh() {
				setTimeout(function() {
					mui('#pullrefresh').pullRefresh().endPullupToRefresh((++count > 2)); //参数为true代表没有更多数据了。
					var table = document.body.querySelector('.mui-table-view');
					var cells = document.body.querySelectorAll('.mui-table-view-cell');
					for (var i = cells.length, len = i + 20; i < len; i++) {
						var li = document.createElement('li');
						li.className = 'mui-table-view-cell';
						li.innerHTML = '<div class="CommentItems"><div class="leftItem leftItem1"></div><div class="rightItem"><p class="rightPara1 rightPara">向丽</p><p class="rightPara2 rightPara">13小时前</p><p class="rightPara3 rightPara">为遇难者祈福...</p></div><p class="like"><i class="flaticon-heart likeFont"></i>&nbsp;999+</p></div>';
						table.appendChild(li);
					}
				}, 1500);
			}
			if (mui.os.plus) {
				mui.plusReady(function() {
					setTimeout(function() {
						mui('#pullrefresh').pullRefresh().pullupLoading();
					}, 1000);

				});
			} else {
				mui.ready(function() {
					mui('#pullrefresh').pullRefresh().pullupLoading();
				});
			}
			$("#backLink").bind('tap',function(){
				mui.openWindow({
					url:history.go(-1),
					id:'#backLink'
				})
			})
		</script>
		<script type="text/javascript">
			var tapNum=0;
			$(".likeFont").on('tap',function(){  
				if(tapNum%2==0){
            		$(this).addClass("red");
            	}
            	else{
            		$(this).removeClass("red");
            	}
            	tapNum++;
            });  
		</script>
</body>
</html>